<!-- Fetch API를 활용한 비동기 통신 처리하기 -->
<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>

<body>
  <div id="user"></div>
  <script>
    const userEl = document.querySelector('#user');
    const reqPromise = fetch('https://api.github.com/users/thisisnew', {
      headers: {
        Accept: 'application/json'
      },
      method: 'GET'
    });

    reqPromise
      .then(res => {
        if (res.status >= 200 && res.status < 300) {
          return res.json();
        } else {
          return Promise.reject(new Error(`Got status ${res.status}`));
        }
      })
      .then(user => {
        userEl.innerHTML =
          `<img src=${user.avatar_url}>
       <br>
       사용자 이름 : ${user.login}, 깃헙주소: ${user.html_url}`;
      })
      .catch(error => alert(error));
  </script>
</body>

</html>